!function(){"use strict";angular.module("akreitals.panel-snap",[])}(),function(){"use strict";function e(e,n){return{restrict:"EA",template:'<ul class="ak-menu"><li ng-repeat="panel in panels" ng-class="{active: panel.active}" ng-click="select(panel.id)"><a href>{{panel.name}}</a></li></ul>',scope:{"for":"@"},link:function(t){return angular.isDefined(t["for"])?(t.panels=[],e.$on("panelsnap:addedPanel",function(e,n){if(t["for"]===n.group){e.stopPropagation();var a={id:n.id,name:n.name,active:!1};t.panels.push(a)}}),e.$on("panelsnap:activatePanel",function(e,n){t["for"]===n.group&&(e.stopPropagation(),angular.forEach(t.panels,function(e){e.active=!1}),t.panels[n.id].active=!0)}),void(t.select=function(n){e.$emit("panelsnap:selectPanel",{group:t["for"],id:n})})):void n.error("PanelGroupMenu: no 'for' attribute provided")}}}angular.module("akreitals.panel-snap").directive("akPanelGroupMenu",e),e.$inject=["$rootScope","$log"]}(),function(){"use strict";function e(){return{restrict:"EA",replace:!0,controller:"PanelGroupController",scope:{name:"@",speed:"=",threshold:"=",fullWindow:"=",keyboard:"=",prevKey:"=",nextKey:"=",currentPanel:"="},link:function(e){e.init()}}}function n(e,n,t,a,r,l,o){function i(){h.eventContainer.on("mousewheel scroll touchmove",s),angular.element(a).on("resize",u),e.keyboard&&angular.element(a).on("keydown",c)}function c(e){if(h.enabled)if(h.isSnapping){if(e.which===h.prevKey||e.which===h.nextKey)return e.preventDefault(),!1}else switch(e.which){case h.prevKey:e.preventDefault(),p(h.currentPanel-1);break;case h.nextKey:e.preventDefault(),p(h.currentPanel+1)}}function s(e){var n=50;r.cancel(m),m=r(function(){},n)}function u(){var e=150;r.cancel(d),d=r(function(){h.scrollInterval=isNaN(h.container[0].innerHeight)?h.container[0].clientHeight:h.container[0].innerHeight,h.enabled&&p(h.currentPanel)},e)}function p(n){if(!(isNaN(n)||n<0||n>=h.panels.length)){h.isSnapping=!0,o.$broadcast("panelsnap:start",{group:e.name}),h.panels[h.currentPanel].onLeave();var t=h.scrollInterval*n;h.snapContainer.scrollTo(0,t,h.speed).then(function(){h.scrollOffset=t,h.isSnapping=!1,o.$broadcast("panelsnap:finish",{group:e.name}),h.panels[n].onEnter(),f(n)})}}function f(n){!h.panels||h.panels.length<1||(angular.forEach(h.panels,function(e){e.setActive(!1)}),h.panels[n].setActive(!0),h.currentPanel=n,e.currentPanel=n,o.$broadcast("panelsnap:activate",{group:e.name}),o.$emit("panelsnap:activatePanel",{group:e.name,id:n}))}var d,m,h=this;h.panels=[],h.currentPanel=0,h.scrollInterval=0,h.scrollOffset=0,h.isSnapping=!1,h.enabled=!0,h.speed=400,h.threshold=50,h.prevKey=38,h.nextKey=40,h.addPanel=function(n){var t=angular.isDefined(n.name)?n.name:"Panel "+(h.panels.length+1);h.panels.push(n),angular.isDefined(e.name)&&o.$emit("panelsnap:addedPanel",{group:e.name,name:t,id:h.panels.length-1})},h.enableSnap=function(){h.enabled=!0},h.disableSnap=function(){h.enabled=!1},h.toggleSnap=function(){h.enabled=!h.enabled},e.init=function(){h.container=n,h.eventContainer=h.container,h.snapContainer=h.container,e.fullWindow&&(h.container=angular.element(l[0].documentElement),h.eventContainer=h.snapContainer=l),h.scrollInterval=isNaN(h.container[0].innerHeight)?h.container[0].clientHeight:h.container[0].innerHeight,h.speed=angular.isDefined(e.speed)?e.speed:h.speed,h.threshold=angular.isDefined(e.threshold)?e.threshold:h.threshold,h.prevKey=angular.isDefined(e.prevKey)?e.prevKey:h.prevKey,h.nextKey=angular.isDefined(e.nextKey)?e.nextKey:h.nextKey,h.currentPanel=angular.isDefined(e.currentPanel)?e.currentPanel:h.currentPanel,i(),f(h.currentPanel),p(e.currentPanel),e.$watch("currentPanel",function(){p(e.currentPanel)})},o.$on("panelsnap:selectPanel",function(n,t){e.name===t.group&&(n.stopPropagation(),p(t.id))})}angular.module("akreitals.panel-snap").directive("akPanelGroup",e).controller("PanelGroupController",n),n.$inject=["$scope","$element","$attrs","$window","$timeout","$document","$rootScope"]}(),function(){"use strict";function e(){return{restrict:"EA",require:"^akPanelGroup",replace:!0,transclude:!0,scope:{name:"@",onEnter:"&",onLeave:"&"},template:'<div class="ak-panel" ng-class="{active: active}" ng-transclude></div>',link:function(e,n,t,a){a.addPanel(e),n.css({width:"100%",height:"100%",position:"relative",overflow:"hidden"}),e.enableSnap=a.enableSnap,e.disableSnap=a.disableSnap,e.toggleSnap=a.toggleSnap,e.active=!1,e.setActive=function(n){e.active=n}}}}angular.module("akreitals.panel-snap").directive("akPanel",e)}(),function(){"use strict";function e(e){return e<.5?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2}function n(e,n,t,a,r){var l=angular.element.prototype,o=function(e){return"undefined"!=typeof HTMLDocument&&e instanceof HTMLDocument||e.nodeType&&e.nodeType===e.DOCUMENT_NODE},i=function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e.nodeType&&e.nodeType===e.ELEMENT_NODE},c=function(e){return i(e)||o(e)?e:e[0]};l.scrollTo=function(n,t,a){var r;if(angular.isElement(n)?r=this.scrollToElement:a&&(r=this.scrollToAnimated),r)return r.apply(this,arguments);var l=c(this);return o(l)?e.scrollTo(n,t):(l.scrollLeft=n,void(l.scrollTop=t))},l.scrollToAnimated=function(e,l,o,i){var c,s;o&&!i&&(i=r);var u=this.scrollLeft(),p=this.scrollTop(),f=Math.round(e-u),d=Math.round(l-p),m=null,h=this,v="scroll mousedown mousewheel touchmove keydown",g=function(e){(!e||e.which>0)&&(h.unbind(v,g),t(c),s.reject(),c=null)};if(c&&g(),s=n.defer(),!f&&!d)return s.resolve(),s.promise;var y=function(e){null===m&&(m=e);var n=e-m,t=n>=o?1:i(n/o);h.scrollTo(u+Math.ceil(f*t),p+Math.ceil(d*t)),t<1?c=a(y):(h.unbind(v,g),c=null,s.resolve())};return h.scrollTo(u,p),c=a(y),s.promise},l.scrollToElement=function(e,n,t,a){var r=c(this),l=this.scrollTop()+c(e).getBoundingClientRect().top-(n||0);return i(r)&&(l-=r.getBoundingClientRect().top),this.scrollTo(0,l,t,a)};var s={scrollLeft:function(n,t,a){if(angular.isNumber(n))return this.scrollTo(n,this.scrollTop(),t,a);var r=c(this);return o(r)?e.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:r.scrollLeft},scrollTop:function(n,t,a){if(angular.isNumber(n))return this.scrollTo(this.scrollTop(),n,t,a);var r=c(this);return o(r)?e.scrollY||document.documentElement.scrollTop||document.body.scrollTop:r.scrollTop}},u=function(e,n){return function(t,a){return a?n.apply(this,arguments):e.apply(this,arguments)}};for(var p in s)l[p]=l[p]?u(l[p],s[p]):s[p]}function t(e){var n=["webkit","moz","o","ms"];return function(t,a){if(e[t])return e[t];for(var r,l=t.substr(0,1).toUpperCase()+t.substr(1),o=0;o<n.length;o++)if(r=n[o]+l,e[r])return e[r];return a}}function a(e,n){var t=0,a=function(e){var a=(new Date).getTime(),r=Math.max(0,16-(a-t)),l=n(function(){e(a+r)},r);return t=a+r,l};return e("requestAnimationFrame",a)}function r(e,n){var t=function(e){n.cancel(e)};return e("cancelAnimationFrame",t)}angular.module("akreitals.panel-snap").value("scrollEasing",e).run(n).factory("polyfill",t).factory("requestAnimation",a).factory("cancelAnimation",r),n.$inject=["$window","$q","cancelAnimation","requestAnimation","scrollEasing"],t.$inject=["$window"],a.$inject=["polyfill","$timeout"],r.$inject=["polyfill","$timeout"]}();
//# sourceMappingURL=angular-panel-snap.min.js.map
